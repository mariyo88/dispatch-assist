<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout (~{::body},'driver')}" lang="en">

<head>

    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div class="row g-5 mt-3">
    <div th:if="${driver.loads.size() > 0}" class="col-md-5 col-lg-4 order-md-last">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
            <span class="text-primary">Load list</span>
            <span th:text="${driver.loads.size()}" class="badge bg-primary rounded-pill">3</span>
        </h4>
        <ul class="list-group mb-3">
            <li th:each="load : ${driver.loads}" class="list-group-item d-flex justify-content-between lh-sm">
                <div>
                    <h6 th:text="${load.client}" class="my-0">Client name</h6>
                    <small th:text="${load.distance}" class="text-muted">123412.5km</small>
                </div>
                <span th:text="${load.id}" class="text-success">12</span>
            </li>
            <!--            <li class="list-group-item d-flex justify-content-between lh-sm">-->
            <!--                <div>-->
            <!--                    <h6 class="my-0">Second product</h6>-->
            <!--                    <small class="text-muted">Brief description</small>-->
            <!--                </div>-->
            <!--                <span class="text-muted">$8</span>-->
            <!--            </li>-->
            <!--            <li class="list-group-item d-flex justify-content-between lh-sm">-->
            <!--                <div>-->
            <!--                    <h6 class="my-0">Third item</h6>-->
            <!--                    <small class="text-muted">Brief description</small>-->
            <!--                </div>-->
            <!--                <span class="text-muted">$5</span>-->
            <!--            </li>-->
            <!--            <li class="list-group-item d-flex justify-content-between bg-light">-->
            <!--                <div class="text-success">-->
            <!--                    <h6 class="my-0">Promo code</h6>-->
            <!--                    <small>EXAMPLECODE</small>-->
            <!--                </div>-->
            <!--                <span class="text-success">âˆ’$5</span>-->
            <!--            </li>-->
            <!--            <li class="list-group-item d-flex justify-content-between">-->
            <!--                <span>Total (USD)</span>-->
            <!--                <strong>$20</strong>-->
            <!--            </li>-->
        </ul>

        <!--        <form class="card p-2">-->
        <!--            <div class="input-group">-->
        <!--                <input type="text" class="form-control" placeholder="Promo code">-->
        <!--                <button type="submit" class="btn btn-secondary">Redeem</button>-->
        <!--            </div>-->
        <!--        </form>-->
    </div>
    <div class="col-md-7 col-lg-8">
        <h4 class="mb-3">Driver data</h4>
        <form class="needs-validation" novalidate="" th:action="@{/driver/process}" th:object="${driver}" method="post">
            <input type="hidden" th:field="*{id}">
            <input type="hidden" th:field="*{user}">
            <input type="hidden" th:field="*{truck}">
            <div class="row g-3">
                <div class="col-sm-12" th:switch="${driver.status.ordinal()}">
                    <span th:case="0">
                        <span class="badge rounded-pill bg-info">Off duty</span>
                    </span>
                    <span th:case="1">
                        <span class="badge rounded-pill bg-danger">Empty</span>
                    </span>
                    <span th:case="2">
                        <span class="badge rounded-pill bg-secondary">Going to shipper</span>
                    </span>
                    <span th:case="3">
                        <span class="badge rounded-pill bg-warning">At the shipper</span>
                    </span>
                    <span th:case="4">
                        <span class="badge rounded-pill bg-success">Loaded and running</span>
                    </span>
                    <span th:case="5">
                        <span class="badge rounded-pill bg-primary">Break</span>
                    </span>
                </div>
                <div class="col-sm-12 align-content-end">
                    <p class="text-success">Modified : <span class="text-muted"
                                                             th:text="${#dates.format(driver.modified, 'dd-MM-yyyy HH:mm')}">09-01-2017,11:08</span>
                    </p>
                </div>
                <div class="col-sm-6">
                    <label for="firstName" class="form-label">First name</label>
                    <input type="text" th:field="*{firstName}" class="form-control" id="firstName" placeholder=""
                           value="" required="">
                    <div class="invalid-feedback">
                        Valid first name is required.
                    </div>
                </div>
                <div class="col-sm-6">
                    <label for="lastName" class="form-label">Last name</label>
                    <input type="text" th:field="*{lastName}" class="form-control" id="lastName" placeholder="" value=""
                           required="">
                    <div class="invalid-feedback">
                        Valid last name is required.
                    </div>
                </div>
                <div class="col-12">
                    <label for="email" class="form-label">Email <span class="text-muted">(Optional)</span></label>
                    <input type="email" th:field="*{email}" class="form-control" id="email"
                           placeholder="you@example.com">
                    <div class="invalid-feedback">
                        Please enter a valid email address for shipping updates.
                    </div>
                </div>
                <div class="col-12">
                    <label for="phone" class="form-label">Phone</label>
                    <input type="text" th:field="*{phoneNumber}" class="form-control" id="phone"
                           placeholder="+381631234567" required="">
                    <div class="invalid-feedback">
                        Please enter your phone.
                    </div>
                </div>
                <div class="col-12">
                    <label for="link" class="form-label">Link <span class="text-muted">(Optional)</span></label>
                    <input type="text" th:field="*{link}" class="form-control" id="link"
                           placeholder="https://instagram">
                </div>
                <div class="col-12">
                    <label for="conformations" class="form-label">Conformations <span
                            class="text-muted">(Optional)</span></label>
                    <input type="text" th:field="*{conformations}" class="form-control" id="conformations"
                           placeholder="???">
                </div>
                <div class="col-md-5">
                    <label for="residence" class="form-label">Residence</label>
                    <select th:field="*{residence}" class="form-select" id="residence">
                        <option value="">Choose...</option>
                        <option value="1">United States</option>
                    </select>
                    <div class="invalid-feedback">
                        Please select a valid residence.
                    </div>
                </div>
                <div class="col-md-3">
                    <label for="schedule" class="form-label">Schedule <span class="text-muted">(Optional)</span></label>
                    <input type="text" th:field="*{schedule}" class="form-control" id="schedule" placeholder="???">
                </div>
                <div class="col-md-4">
                    <label for="status" class="form-label">Status</label>
                    <select th:field="*{status}" class="form-select" id="status" required="">
                        <option value="">Choose...</option>
                        <option value="EMPTY">Empty</option>
                        <option value="OFF_DUTY">Off duty</option>
                        <option value="GOING_TO_SHIPPER">Going to shipper</option>
                        <option value="AT_THE_SHIPPER">At the shipper</option>
                        <option value="LOADED_AND_RUNNING">Loaded and running</option>
                        <option value="BREAK">Break</option>
                    </select>
                    <div class="invalid-feedback">
                        Please select a valid status.
                    </div>
                </div>
            </div>
            <div class="form-check mt-3">
                <input type="checkbox" class="form-check-input" id="same-address">
                <label class="form-check-label" for="same-address">Shipping address is the same as my billing
                    address</label>
            </div>
            <div class="form-check">
                <input type="checkbox" class="form-check-input" id="save-info">
                <label class="form-check-label" for="save-info">Save this information for next time</label>
            </div>
            <button class="w-100 btn btn-primary btn-lg mt-5" type="submit">Save</button>
        </form>
    </div>
</div>

<br>

<script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function () {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        const forms = document.querySelectorAll('.needs-validation');

        // Loop over them and prevent submission
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }

                    form.classList.add('was-validated')
                }, false)
            })
    })()

</script>

</body>
</html>